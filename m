Return-Path: <linux-scsi-owner@vger.kernel.org>
X-Original-To: lists+linux-scsi@lfdr.de
Delivered-To: lists+linux-scsi@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 1928C1B057B
	for <lists+linux-scsi@lfdr.de>; Mon, 20 Apr 2020 11:21:19 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726089AbgDTJVS (ORCPT <rfc822;lists+linux-scsi@lfdr.de>);
        Mon, 20 Apr 2020 05:21:18 -0400
Received: from esa3.microchip.iphmx.com ([68.232.153.233]:28392 "EHLO
        esa3.microchip.iphmx.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1725773AbgDTJVR (ORCPT
        <rfc822;linux-scsi@vger.kernel.org>); Mon, 20 Apr 2020 05:21:17 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=microchip.com; i=@microchip.com; q=dns/txt; s=mchp;
  t=1587374476; x=1618910476;
  h=from:to:cc:subject:date:message-id:references:
   in-reply-to:content-transfer-encoding:mime-version;
  bh=ojfUCfo+/IATa3LyUH0aE/Ot2OPqtJlsQcVv53ELpvU=;
  b=tHxYRajqiRoOurhmvfuy0ilBuSLZNvVtFZiHvM0/jY+lyJSGLnmISWH/
   8LBhVRfT2WVpm+M4tAyEO+vdyPG0j/z8A7Z5oYwMAw6OBDimeL/SOObYA
   ni3NhMPM11dPx2WB1MrwWh/I7K1N/Q936g8wjTBI7kwY10i91QtHaFoRr
   SfDygUXc8YO/WoUi9qE/l7D4hIFM+ehkFIapMGWjH/lBYdNvO32DZ8p0K
   h3KtiPIht/jBieSXcli1L97qz3hb1QUjUqaPdTSrOMzJm7Qaf3QzXFm+G
   CdutLt66xu4tstijCFIKDii7A6PqE8pnS+eEZK8xulNXNa5nUeLOZlNEq
   A==;
IronPort-SDR: JL9Jg70l0XC6aJI7Vonr7X10/vPaArlw1vVOb2F3p2iN6ni+PHMpGoNW/QdBKrYDyha8NYqfl6
 SyhpeQw5VgtaD4oIZRjH/1fqamoyXPKDKX6MAfiuHgfj3zmWPIIfBypVtTmbGVXrmkMR0WMfO9
 Plo4R/y8WueyzKk+Z2jnPQ3s+o9VLmGMKB8iY6nGxn69N+sTbqPSVSEuvyQ6n7ncxANPCodZrf
 VrGkCJFi41SfNB8fotH9jywrJSnvFkqSy0lIAXhOwHpxgAoyzqQkdog2vAIIcFKj0UrYZ8ZUj4
 9WI=
X-IronPort-AV: E=Sophos;i="5.72,406,1580799600"; 
   d="scan'208";a="73877179"
Received: from smtpout.microchip.com (HELO email.microchip.com) ([198.175.253.82])
  by esa3.microchip.iphmx.com with ESMTP/TLS/AES256-SHA256; 20 Apr 2020 02:21:15 -0700
Received: from chn-vm-ex01.mchp-main.com (10.10.85.143) by
 chn-vm-ex02.mchp-main.com (10.10.85.144) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.1713.5; Mon, 20 Apr 2020 02:20:48 -0700
Received: from NAM11-DM6-obe.outbound.protection.outlook.com (10.10.215.89) by
 email.microchip.com (10.10.87.71) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5 via Frontend
 Transport; Mon, 20 Apr 2020 02:21:22 -0700
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=V88aZX+TQMz8x5qCG98Yx0omHMwxTlF+1Qcm1kilPVhp5xQ4I2KTcmlCEOGi1YDcgUB7+R9HCIcwUO8nrha2nA6aQfJU84uJsYNMhbLO6PhzWywsANZoMbXDHLuDHP13kAXzfuXDWWHuHSO5FF4ERs4NJj4+pIqDoT/wdATDyvlWjc5sW9msVZhmYqy57/YzJi6ftM/Y7odt5UgyuURsDp4279I9c01R3Q06G5AOOdUUsgebtWquQdqCqu8scHRCAWbi6FXEiXy8jaXeTe4aRP7KiSrKg2nZncnwXO0Jal+FmULvnIuzsHuhfuRXUre6hApDAkWN6cgMN9cTeRGyxQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ojfUCfo+/IATa3LyUH0aE/Ot2OPqtJlsQcVv53ELpvU=;
 b=MGlWoglJMqnX29/wXyiMW3lxWSdIMQb/NVjok4wLgJPIKEGT1lWrPHqIY27hodN1oSTZuicVOyLuRa3X/T92riWTGVa2dFzSDQWS3nwZP8YKYksXJDx8J+afj9vv0ftY4kOe2iC/0/gkL7dTH9iqvLB0GLzXwmUmOL1Ok+8GXI8GyuCm4zO5Q+mXpl3P2AHkhmcbYNCACbLUPV4y7HEh7D/QNK3JY8aAl+BN2/cjENiWMuNVRZ8jnFDsrug/1YBOe3yLZqw84+Sx5xNwTdqGdTmnOaLsUxE9ZghD4Gk/9jyvXXZmuqUpRPXokYnj49T1vSWA5KtPSCJvMsxbkGVQJw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=microchip.com; dmarc=pass action=none
 header.from=microchip.com; dkim=pass header.d=microchip.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=microchiptechnology.onmicrosoft.com;
 s=selector2-microchiptechnology-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ojfUCfo+/IATa3LyUH0aE/Ot2OPqtJlsQcVv53ELpvU=;
 b=UCWCv5BZ76qg+yMTakw8Mq07/vNrrkwoM9pZQ8njbvrE/4HJB0HJmcZokOxHSkyIJ6ApjUEeG76F7Qm6UqXjUAy1igaRLFe07yjAcggLRemJaqfPcyJLWmYHEwbz+b+mxcpR+fXdXxoMK61c5/vMXLlnR0BADPeTYpW6/HJUCpE=
Received: from MN2PR11MB3679.namprd11.prod.outlook.com (2603:10b6:208:f1::31)
 by MN2PR11MB4047.namprd11.prod.outlook.com (2603:10b6:208:13a::16) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2921.25; Mon, 20 Apr
 2020 09:21:11 +0000
Received: from MN2PR11MB3679.namprd11.prod.outlook.com
 ([fe80::10cb:77aa:b7c3:db4b]) by MN2PR11MB3679.namprd11.prod.outlook.com
 ([fe80::10cb:77aa:b7c3:db4b%7]) with mapi id 15.20.2921.027; Mon, 20 Apr 2020
 09:21:11 +0000
From:   <Deepak.Ukey@microchip.com>
To:     <jinpu.wang@cloud.ionos.com>
CC:     <linux-scsi@vger.kernel.org>,
        <Vasanthalakshmi.Tharmarajan@microchip.com>,
        <Viswas.G@microchip.com>, <jinpu.wang@profitbricks.com>,
        <martin.petersen@oracle.com>, <dpf@google.com>,
        <yuuzheng@google.com>, <auradkar@google.com>,
        <vishakhavc@google.com>, <bjashnani@google.com>,
        <radha@google.com>, <akshatzen@google.com>
Subject: RE: [PATCH 2/3] pm80xx : Staggered spin up support.
Thread-Topic: [PATCH 2/3] pm80xx : Staggered spin up support.
Thread-Index: AQHWEXeZ75+SUlF/VUCVwJfQ6+38rah7pVkAgAYgOMA=
Date:   Mon, 20 Apr 2020 09:21:11 +0000
Message-ID: <MN2PR11MB3679000538E83C15284B4CB2EFD40@MN2PR11MB3679.namprd11.prod.outlook.com>
References: <20200413094938.6182-1-deepak.ukey@microchip.com>
 <20200413094938.6182-3-deepak.ukey@microchip.com>
 <CAMGffE=oc4fqXdOqHwVRp-eysMsJ61-5JW0sR7dwMFaY8mt3FQ@mail.gmail.com>
In-Reply-To: <CAMGffE=oc4fqXdOqHwVRp-eysMsJ61-5JW0sR7dwMFaY8mt3FQ@mail.gmail.com>
Accept-Language: en-GB, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Deepak.Ukey@microchip.com; 
x-originating-ip: [106.51.106.174]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: d1c81451-04e2-4653-c17e-08d7e50c2ac4
x-ms-traffictypediagnostic: MN2PR11MB4047:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR11MB404766D84E8E5FE98C40CEDAEFD40@MN2PR11MB4047.namprd11.prod.outlook.com>
x-bypassexternaltag: True
x-ms-oob-tlc-oobclassifiers: OLM:2089;
x-forefront-prvs: 03793408BA
x-forefront-antispam-report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:MN2PR11MB3679.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFTY:;SFS:(10009020)(376002)(396003)(346002)(366004)(39860400002)(136003)(5660300002)(71200400001)(26005)(52536014)(54906003)(4326008)(66476007)(66556008)(66446008)(64756008)(66946007)(7416002)(86362001)(6506007)(9686003)(316002)(8676002)(6916009)(8936002)(55236004)(55016002)(33656002)(7696005)(45080400002)(76116006)(186003)(30864003)(478600001)(2906002)(81156014)(579004);DIR:OUT;SFP:1101;
received-spf: None (protection.outlook.com: microchip.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: bcO4Kf8+4mS0YPotLWyB7jnkdGjnUoeUalx/Lymcq68NcKazV9ZntS/ZH/9yv0XuCHJB6BPAjMBpjnJmYg3rD9VGezt/CSltM+bLw1JrcM+F8Wb1YcMwWPIhbOQfSDeQzchz7q/sXkq2nV5vLOk2d4rgmy6/zYs1sB+4wNdstl+/fPYXDy+TCYuIbaR/lODwnY5CO4BmGYBymThMsp3BhFyofuUhM2xZSgEyAH1ss7d5TV37pUL7KHBKyJnEfUrIW4rFo4Cm8COWr12VAeL9kGqkZTC0cIkB/kdtIHQ5oV8vxtLRGbWld2bk7c9a8+zUasF8Q0rXeb3h85WRIcWUMNMm8BW+PiGUJy0ePjVCxvOgO0qhXzgAumL8w+xXCfpNpZHqwnYyB/5AsrZRGWDrMx9oADAEUjRJVwRFak8yU/ZBLUFMtbvrd/cznXGqfr89
x-ms-exchange-antispam-messagedata: WelrC6NxrQlecHOTUTzn1S0dGyu/2K4yyIh7YJaZHlg7uYmZRjoMNFZpWX4g+3n2LJOm6w/OvoYnvP1JuQw4jbAYoCMtjNLFfo08qwOef+MyWO5NwCQPgka0QKI4s56MiTsjBOadn66saH4Z8EgKZFNTn+bvWowwjVhHI+xXkkItJ1ph652RIaYU2gyJ670SF9lKRSRswL+eRKHY8poVxaiOOSZ7v2RQcKcMDlp+ANMonmhQMxwPf0XAfhT8DzaZ8rXtW4R2gzjIYc+HLKNZjRpzhkgz1VpzKmfgID5zqWpzvQuSEkeeVj0bZkt/4Rft67iU3J24fRiC0/a36ac1j//kJ2gGguHddkAeMv8TUxYm9N0gejQx61Op7uysaKag4lXEVygcjoX5T5hZZibM9vnkltkDo0wXyvHY+x0vu8nQH5lhAdzL66fcCtYt//i9WIsnHaRmSklhSm/VL8WzXo05eGCFowM2ARo+6mRbcz55dCJrvscRLQCiRA7gPgScWb2VM5Tvp5qa16rqoBC1b1imi1jc6q0V7d3r8HN3elE6HzBb5MPbQI2/b9do88mWnktXhZaZXzI3QmPdvAm6O6n1rYiP1yuF5+M6d2jNPY42Mt6o5Zzvn2iwjYjq0iwrSzIaE7RKQW8J06E1lW1rKgfhghJrQqAiDMJ/vsRp8mEfQ4I5AnkejLfNxKnQp8Ei84whgWD9qNuENRUl6D3NUooh+s3nOOlMUm62rVOADJZgIL8T5vQJBNIBj46hdguBjuUdz7tkzsZvWZlLtQHtUmyWlqV67XToLuEMBjfksQk=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-Network-Message-Id: d1c81451-04e2-4653-c17e-08d7e50c2ac4
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Apr 2020 09:21:11.5061
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3f4057f3-b418-4d4e-ba84-d55b4e897d88
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 7hkk9KdsQX9oEmQVmRplCXvkINpoFDuaRhjYr+MibYtpvBIJD8Msq4IAGQCIJu2N+uUTTBvfUVF2wxcTvAxIL2aq7X99mCGwGgcvYqTs8Lk=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR11MB4047
Sender: linux-scsi-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-scsi.vger.kernel.org>
X-Mailing-List: linux-scsi@vger.kernel.org

PiBGcm9tOiBWaXN3YXMgRyA8Vmlzd2FzLkdAbWljcm9jaGlwLmNvbT4NCj4NCj4gQXMgYSBwYXJ0
IG9mIGRyaXZlIGRpc2NvdmVyeSwgZHJpdmVyIHdpbGwgaW5pdGFpdGUgdGhlIGRyaXZlIHNwaW4g
dXAuDQo+IElmIGFsbCBkcml2ZXMgZG8gc3BpbiB1cCB0b2dldGhlciwgaXQgd2lsbCByZXN1bHQg
aW4gbGFyZ2UgcG93ZXIgDQo+IGNvbnN1bXB0aW9uLiBUbyByZWR1Y2UgdGhlIHBvd2VyIGNvbnN1
bXB0aW9uLCBkcml2ZXIgcHJvdmlkZSBhbiBvcHRpb24gDQo+IHRvIG1ha2UgYSBzbWFsbCBncm91
cCBvZiBkcml2ZXMgKHNheSAzIG9yIDQgZHJpdmVzIHRvZ2V0aGVyKSB0byBkbyB0aGUgDQo+IHNw
aW4gdXAuIFRoZSBkZWxheSBiZXR3ZWVuIHR3byBzcGluIHVwIGdyb3VwIGFuZCBubyBvZiBkcml2
ZXMgdG8gc3BpbiANCj4gdXAgKGdyb3VwKSBjYW4gYmUgcHJvZ3JhbW1lZCBieSB0aGUgY3VzdG9t
ZXIgaW4gc2VlcHJvbSBhbmQgZHJpdmVyIA0KPiB3aWxsIHVzZSBpdCB0byBjb250cm9sIHRoZSBz
cGludXAuDQo+DQo+IFNpZ25lZC1vZmYtYnk6IFZpc3dhcyBHIDxWaXN3YXMuR0BtaWNyb2NoaXAu
Y29tPg0KPiBTaWduZWQtb2ZmLWJ5OiBSYWRoYSBSYW1hY2hhbmRyYW4gPHJhZGhhQGdvb2dsZS5j
b20+DQo+IFNpZ25lZC1vZmYtYnk6IERlZXBhayBVa2V5IDxEZWVwYWsuVWtleUBtaWNyb2NoaXAu
Y29tPg0KPiAtLS0NCj4gIGRyaXZlcnMvc2NzaS9wbTgwMDEvcG04MDAxX2RlZnMuaCB8ICAgMyAr
DQo+ICBkcml2ZXJzL3Njc2kvcG04MDAxL3BtODAwMV9od2kuYyAgfCAgMTQgKysrKy0gIA0KPiBk
cml2ZXJzL3Njc2kvcG04MDAxL3BtODAwMV9pbml0LmMgfCAgNTMgKysrKysrKysrKysrKysrLSAg
DQo+IGRyaXZlcnMvc2NzaS9wbTgwMDEvcG04MDAxX3Nhcy5jICB8ICAzNyArKysrKysrKysrLSAg
DQo+IGRyaXZlcnMvc2NzaS9wbTgwMDEvcG04MDAxX3Nhcy5oICB8ICAxNCArKysrKyAgDQo+IGRy
aXZlcnMvc2NzaS9wbTgwMDEvcG04MHh4X2h3aS5jICB8IDEyNSANCj4gKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrLS0tLS0NCj4gIDYgZmlsZXMgY2hhbmdlZCwgMjIzIGluc2VydGlv
bnMoKyksIDIzIGRlbGV0aW9ucygtKQ0KPg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9zY3NpL3Bt
ODAwMS9wbTgwMDFfZGVmcy5oIA0KPiBiL2RyaXZlcnMvc2NzaS9wbTgwMDEvcG04MDAxX2RlZnMu
aA0KPiBpbmRleCAxYzdmMTVmZDY5Y2UuLmZkNzAwY2U1ZTgwYyAxMDA2NDQNCj4gLS0tIGEvZHJp
dmVycy9zY3NpL3BtODAwMS9wbTgwMDFfZGVmcy5oDQo+ICsrKyBiL2RyaXZlcnMvc2NzaS9wbTgw
MDEvcG04MDAxX2RlZnMuaA0KPiBAQCAtMTAxLDYgKzEwMSw5IEBAIGVudW0gcG9ydF90eXBlIHsN
Cj4gICNkZWZpbmUgVVNJX01BWF9NRU1DTlQgICAgICAgICAoUEkgKyBQTTgwMDFfTUFYX1NQQ1Zf
T1VUQl9OVU0pDQo+ICAjZGVmaW5lICAgICAgICBDT05GSUdfU0NTSV9QTTgwMDFfTUFYX0RNQV9T
RyAgIDUyOA0KPiAgI2RlZmluZSBQTTgwMDFfTUFYX0RNQV9TRyAgICAgIENPTkZJR19TQ1NJX1BN
ODAwMV9NQVhfRE1BX1NHDQo+ICsjZGVmaW5lIFNQSU5VUF9ERUxBWV9PRkZTRVQgICAgICAgICAg
ICAweDg5MCAvKiAweDg5MCAtIGRlbGF5ICovDQo+ICsjZGVmaW5lIFNQSU5VUF9HUk9VUF9PRkZT
RVQgICAgICAgICAgICAweDg5MiAvKiAweDg5MiAtIGdyb3VwICovDQo+ICsjZGVmaW5lIFBNODBY
WF9NQVhfU1BJTlVQX0RFTEFZICAgICAgICAxMDAwMCAvKiAxMDAwMCBtcyAqLw0KPiAgZW51bSBt
ZW1vcnlfcmVnaW9uX251bSB7DQo+ICAgICAgICAgQUFQMSA9IDB4MCwgLyogYXBwbGljYXRpb24g
YWNjZWxlcmF0aW9uIHByb2Nlc3NvciAqLw0KPiAgICAgICAgIElPUCwgICAgICAgIC8qIElPIHBy
b2Nlc3NvciAqLw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9zY3NpL3BtODAwMS9wbTgwMDFfaHdp
LmMgDQo+IGIvZHJpdmVycy9zY3NpL3BtODAwMS9wbTgwMDFfaHdpLmMNCj4gaW5kZXggZmI5ODQ4
ZTFkNDgxLi42Mzc4YzhlOGQ2YjIgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvc2NzaS9wbTgwMDEv
cG04MDAxX2h3aS5jDQo+ICsrKyBiL2RyaXZlcnMvc2NzaS9wbTgwMDEvcG04MDAxX2h3aS5jDQo+
IEBAIC0zMjM3LDcgKzMyMzcsNyBAQCBpbnQgcG04MDAxX21waV9sb2NhbF9waHlfY3RsKHN0cnVj
dCBwbTgwMDFfaGJhX2luZm8gKnBtODAwMV9oYSwgdm9pZCAqcGlvbWIpDQo+ICAgICAgICAgICAg
ICAgICAoc3RydWN0IGxvY2FsX3BoeV9jdGxfcmVzcCAqKShwaW9tYiArIDQpOw0KPiAgICAgICAg
IHUzMiBzdGF0dXMgPSBsZTMyX3RvX2NwdShwUGF5bG9hZC0+c3RhdHVzKTsNCj4gICAgICAgICB1
MzIgcGh5X2lkID0gbGUzMl90b19jcHUocFBheWxvYWQtPnBoeW9wX3BoeWlkKSAmIElEX0JJVFM7
DQo+IC0gICAgICAgdTMyIHBoeV9vcCA9IGxlMzJfdG9fY3B1KHBQYXlsb2FkLT5waHlvcF9waHlp
ZCkgJiBPUF9CSVRTOw0KPiArICAgICAgIHUzMiBwaHlfb3AgPSAobGUzMl90b19jcHUocFBheWxv
YWQtPnBoeW9wX3BoeWlkKSAmIE9QX0JJVFMpID4+IA0KPiArIDg7DQo+ICAgICAgICAgdGFnID0g
bGUzMl90b19jcHUocFBheWxvYWQtPnRhZyk7DQo+ICAgICAgICAgaWYgKHN0YXR1cyAhPSAwKSB7
DQo+ICAgICAgICAgICAgICAgICBQTTgwMDFfTVNHX0RCRyhwbTgwMDFfaGEsIEBAIC0zMjQ4LDYg
KzMyNDgsMTMgQEAgaW50IA0KPiBwbTgwMDFfbXBpX2xvY2FsX3BoeV9jdGwoc3RydWN0IHBtODAw
MV9oYmFfaW5mbyAqcG04MDAxX2hhLCB2b2lkICpwaW9tYikNCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgcG04MDAxX3ByaW50aygiJXggcGh5IGV4ZWN1dGUgJXggcGh5IG9wIHN1Y2Nlc3MhXG4i
LA0KPiAgICAgICAgICAgICAgICAgICAgICAgICBwaHlfaWQsIHBoeV9vcCkpOw0KPiAgICAgICAg
ICAgICAgICAgcG04MDAxX2hhLT5waHlbcGh5X2lkXS5yZXNldF9zdWNjZXNzID0gdHJ1ZTsNCj4g
KyAgICAgICAgICAgICAgIGlmIChwaHlfb3AgPT0gUEhZX05PVElGWV9FTkFCTEVfU1BJTlVQICYm
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICFwbTgwMDFfaGEtPnJlc2V0X2luX3Byb2dyZXNz
KXsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgLyogTm90aWZ5IHRoZSBzYXMgbGF5ZXIgdG8g
ZGlzY292ZXINCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICogdGhlIHRoZSB3aG9sZSBzYXMg
ZG9tYWluDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAqLw0KPiArICAgICAgICAgICAgICAg
ICAgICAgICBwbTgwMDFfYnl0ZXNfZG1hZWQocG04MDAxX2hhLCBwaHlfaWQpOw0KPiArICAgICAg
ICAgICAgICAgfQ0KPiAgICAgICAgIH0NCj4gICAgICAgICBpZiAocG04MDAxX2hhLT5waHlbcGh5
X2lkXS5lbmFibGVfY29tcGxldGlvbikgew0KPiAgICAgICAgICAgICAgICAgY29tcGxldGUocG04
MDAxX2hhLT5waHlbcGh5X2lkXS5lbmFibGVfY29tcGxldGlvbik7DQo+IEBAIC0zNjQzLDcgKzM2
NTAsMTAgQEAgaW50IHBtODAwMV9tcGlfcmVnX3Jlc3Aoc3RydWN0IHBtODAwMV9oYmFfaW5mbyAq
cG04MDAxX2hhLCB2b2lkICpwaW9tYikNCj4gICAgICAgICAgICAgICAgICAgICAgICAgcG04MDAx
X3ByaW50aygiREVWUkVHX0ZBSUxVUkVfREVWSUNFX1RZUEVfTk9UX1NVUFBPUlRFRFxuIikpOw0K
PiAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ICAgICAgICAgfQ0KPiAtICAgICAgIGNvbXBsZXRl
KHBtODAwMV9kZXYtPmRjb21wbGV0aW9uKTsNCj4gKyAgICAgICBpZiAocG04MDAxX2Rldi0+ZGNv
bXBsZXRpb24pIHsNCj4gKyAgICAgICAgICAgICAgIGNvbXBsZXRlKHBtODAwMV9kZXYtPmRjb21w
bGV0aW9uKTsNCj4gKyAgICAgICAgICAgICAgIHBtODAwMV9kZXYtPmRjb21wbGV0aW9uID0gTlVM
TDsNCj4gKyAgICAgICB9DQo+ICAgICAgICAgY2NiLT50YXNrID0gTlVMTDsNCj4gICAgICAgICBj
Y2ItPmNjYl90YWcgPSAweEZGRkZGRkZGOw0KPiAgICAgICAgIHBtODAwMV90YWdfZnJlZShwbTgw
MDFfaGEsIGh0YWcpOyBkaWZmIC0tZ2l0IA0KPiBhL2RyaXZlcnMvc2NzaS9wbTgwMDEvcG04MDAx
X2luaXQuYyANCj4gYi9kcml2ZXJzL3Njc2kvcG04MDAxL3BtODAwMV9pbml0LmMNCj4gaW5kZXgg
NjgwMDVkMGNiMzNkLi42Y2JiOGZhNzQ0NTYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvc2NzaS9w
bTgwMDEvcG04MDAxX2luaXQuYw0KPiArKysgYi9kcml2ZXJzL3Njc2kvcG04MDAxL3BtODAwMV9p
bml0LmMNCj4gQEAgLTU1LDYgKzU1LDEyIEBAIE1PRFVMRV9QQVJNX0RFU0MobGlua19yYXRlLCAi
RW5hYmxlIGxpbmsgcmF0ZS5cbiINCj4gICAgICAgICAgICAgICAgICIgNDogTGluayByYXRlIDYu
MEdcbiINCj4gICAgICAgICAgICAgICAgICIgODogTGluayByYXRlIDEyLjBHXG4iKTsNCj4NCj4g
K2Jvb2wgc3RhZ2dlcmVkX3NwaW51cDsNCj4gK21vZHVsZV9wYXJhbShzdGFnZ2VyZWRfc3BpbnVw
LCBib29sLCAwNjQ0KTsgDQo+ICtNT0RVTEVfUEFSTV9ERVNDKHN0YWdnZXJlZF9zcGludXAsICJl
bmFibGUgdGhlIHN0YWdnZXJlZCBzcGludXAgZmVhdHVyZS5cbiINCj4gKyAgICAgICAgICAgICAg
ICIgMC9OOiBmYWxzZVxuIg0KPiArICAgICAgICAgICAgICAgIiAxL1k6IHRydWVcbiIpOw0KPiAr
DQo+ICBzdGF0aWMgc3RydWN0IHNjc2lfdHJhbnNwb3J0X3RlbXBsYXRlICpwbTgwMDFfc3R0Ow0K
Pg0KPiAgLyoqDQo+IEBAIC0xNjQsNyArMTcwLDcgQEAgc3RhdGljIHZvaWQgcG04MDAxX2ZyZWUo
c3RydWN0IHBtODAwMV9oYmFfaW5mbyANCj4gKnBtODAwMV9oYSkNCj4NCj4gICAgICAgICBpZiAo
IXBtODAwMV9oYSkNCj4gICAgICAgICAgICAgICAgIHJldHVybjsNCj4gLQ0KPiArICAgICAgIGRl
bF90aW1lcigmcG04MDAxX2hhLT5zcGludXBfdGltZXIpOw0KPiAgICAgICAgIGZvciAoaSA9IDA7
IGkgPCBVU0lfTUFYX01FTUNOVDsgaSsrKSB7DQo+ICAgICAgICAgICAgICAgICBpZiAocG04MDAx
X2hhLT5tZW1vcnlNYXAucmVnaW9uW2ldLnZpcnRfcHRyICE9IE5VTEwpIHsNCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgZG1hX2ZyZWVfY29oZXJlbnQoJnBtODAwMV9oYS0+cGRldi0+ZGV2LA0K
PiBAQCAtNDg2LDYgKzQ5Miw3IEBAIHN0YXRpYyBzdHJ1Y3QgcG04MDAxX2hiYV9pbmZvICpwbTgw
MDFfcGNpX2FsbG9jKHN0cnVjdCBwY2lfZGV2ICpwZGV2LA0KPiAgICAgICAgIHBtODAwMV9oYS0+
c2hvc3QgPSBzaG9zdDsNCj4gICAgICAgICBwbTgwMDFfaGEtPmlkID0gcG04MDAxX2lkKys7DQo+
ICAgICAgICAgcG04MDAxX2hhLT5sb2dnaW5nX2xldmVsID0gbG9nZ2luZ19sZXZlbDsNCj4gKyAg
ICAgICBwbTgwMDFfaGEtPnN0YWdnZXJlZF9zcGludXAgPSBzdGFnZ2VyZWRfc3BpbnVwOw0KPiAg
ICAgICAgIHBtODAwMV9oYS0+bm9uX2ZhdGFsX2NvdW50ID0gMDsNCj4gICAgICAgICBpZiAobGlu
a19yYXRlID49IDEgJiYgbGlua19yYXRlIDw9IDE1KQ0KPiAgICAgICAgICAgICAgICAgcG04MDAx
X2hhLT5saW5rX3JhdGUgPSAobGlua19yYXRlIDw8IDgpOyBAQCAtNjIwLDcgDQo+ICs2MjcsOCBA
QCBzdGF0aWMgdm9pZCAgcG04MDAxX3Bvc3Rfc2FzX2hhX2luaXQoc3RydWN0IFNjc2lfSG9zdCAq
c2hvc3QsDQo+ICAgKiBDdXJyZW50bHkgd2UganVzdCBzZXQgdGhlIGZpeGVkIFNBUyBhZGRyZXNz
IHRvIG91ciBIQkEsZm9yIG1hbnVmYWN0dXJlLA0KPiAgICogaXQgc2hvdWxkIHJlYWQgZnJvbSB0
aGUgRUVQUk9NDQo+ICAgKi8NCj4gLXN0YXRpYyB2b2lkIHBtODAwMV9pbml0X3Nhc19hZGQoc3Ry
dWN0IHBtODAwMV9oYmFfaW5mbyAqcG04MDAxX2hhKQ0KPiArc3RhdGljIHZvaWQgcG04MDAxX2lu
aXRfc2FzX2FkZF9hbmRfc3BpbnVwX2NvbmZpZw0KPiArICAgICAgICAgICAgICAgKHN0cnVjdCBw
bTgwMDFfaGJhX2luZm8gKnBtODAwMV9oYSkNCj4gIHsNCj4gICAgICAgICB1OCBpLCBqOw0KPiAg
ICAgICAgIHU4IHNhc19hZGRbOF07DQo+IEBAIC03MDYsNiArNzE0LDQ1IEBAIHN0YXRpYyB2b2lk
IHBtODAwMV9pbml0X3Nhc19hZGQoc3RydWN0IHBtODAwMV9oYmFfaW5mbyAqcG04MDAxX2hhKQ0K
PiAgICAgICAgIG1lbWNweShwbTgwMDFfaGEtPnNhc19hZGRyLCAmcG04MDAxX2hhLT5waHlbMF0u
ZGV2X3Nhc19hZGRyLA0KPiAgICAgICAgICAgICAgICAgU0FTX0FERFJfU0laRSk7DQo+ICAjZW5k
aWYNCj4gKw0KPiArICAgICAgIC8qIEZvciBzcGlubmluZyB1cCBkcml2ZXMgaW4gZ3JvdXAgKi8N
Cj4gKyAgICAgICBwbTgwMDFfaGEtPnBoeV9oZWFkID0gLTE7DQo+ICsgICAgICAgcG04MDAxX2hh
LT5waHlfdGFpbCA9IC0xOw0KPiArDQo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IFBNODAwMV9N
QVhfUEhZUzsgaSsrKQ0KPiArICAgICAgICAgICAgICAgcG04MDAxX2hhLT5waHlfdXBbaV0gPSAw
eGZmOw0KPiArDQo+ICsgICAgICAgdGltZXJfc2V0dXAoJnBtODAwMV9oYS0+c3BpbnVwX3RpbWVy
LA0KPiArICAgICAgICAgICAgICAgKHZvaWQgKilwbTgwMDFfc3BpbnVwX3RpbWVkb3V0LCAwKTsN
Cj4gKw0KPiArICAgICAgIGlmIChwbTgwMDFfaGEtPnN0YWdnZXJlZF9zcGludXAgPT0gdHJ1ZSkg
ew0KPiArICAgICAgICAgICAgICAgLyogc3BpbnVwIGludGVydmFsIGluIHVuaXQgb2YgMTAwIG1z
ICovDQo+ICsgICAgICAgICAgICAgICBwbTgwMDFfaGEtPnNwaW51cF9pbnRlcnZhbCA9DQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuZnVuY19zcGVjaWZpY1tTUElOVVBfREVMQVlf
T0ZGU0VUXSAqIDEwMDsNCj4gKyAgICAgICAgICAgICAgIHBtODAwMV9oYS0+c3BpbnVwX2dyb3Vw
ID0NCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5mdW5jX3NwZWNpZmljW1NQSU5V
UF9HUk9VUF9PRkZTRVRdOw0KPiArICAgICAgIH0gZWxzZSB7DQo+ICsgICAgICAgICAgICAgICBw
bTgwMDFfaGEtPnNwaW51cF9pbnRlcnZhbCA9IDA7DQo+ICsgICAgICAgICAgICAgICBwbTgwMDFf
aGEtPnNwaW51cF9ncm91cCA9IHBtODAwMV9oYS0+Y2hpcC0+bl9waHk7DQo+ICsgICAgICAgfQ0K
PiArDQo+ICsgICAgICAgaWYgKHBtODAwMV9oYS0+c3BpbnVwX2ludGVydmFsID4gUE04MFhYX01B
WF9TUElOVVBfREVMQVkpIHsNCj4gKyAgICAgICAgICAgICAgIFBNODAwMV9ESVNDX0RCRyhwbTgw
MDFfaGEsIHBtODAwMV9wcmludGsoDQo+ICsgICAgICAgICAgICAgICAiU3BpbnVwIGRlbGF5IGZy
b20gU2VlcHJvbSBpcyAlZCBtcywgcmVzZXQgdG8gJWQgbXNcbiIsDQo+ICsgICAgICAgICAgICAg
ICBwbTgwMDFfaGEtPnNwaW51cF9pbnRlcnZhbCAqIDEwMCwgUE04MFhYX01BWF9TUElOVVBfREVM
QVkpKTsNCj4gKyAgICAgICAgICAgICAgIHBtODAwMV9oYS0+c3BpbnVwX2ludGVydmFsID0gUE04
MFhYX01BWF9TUElOVVBfREVMQVk7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgaWYgKHBt
ODAwMV9oYS0+c3BpbnVwX2dyb3VwID4gcG04MDAxX2hhLT5jaGlwLT5uX3BoeSkgew0KPiArICAg
ICAgICAgICAgICAgUE04MDAxX0RJU0NfREJHKHBtODAwMV9oYSwgcG04MDAxX3ByaW50aygNCj4g
KyAgICAgICAgICAgICAgICJTcGludXAgZ3JvdXAgZnJvbSBTZWVwcm9tIGlzICVkLCByZXNldCB0
byAlZFxuIiwNCj4gKyAgICAgICAgICAgICAgIHBtODAwMV9oYS0+c3BpbnVwX2dyb3VwLCBwbTgw
MDFfaGEtPmNoaXAtPm5fcGh5KSk7DQo+ICsgICAgICAgICAgICAgICBwbTgwMDFfaGEtPnNwaW51
cF9ncm91cCA9IHBtODAwMV9oYS0+Y2hpcC0+bl9waHk7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsg
ICAgICAgUE04MDAxX01TR19EQkcocG04MDAxX2hhLCBwbTgwMDFfcHJpbnRrKA0KPiArICAgICAg
ICAgICAgICAgIlNwaW51cCBpbnRlcnZhbCA6ICVkIFNwaW51cCBncm91cCAlZFxuIiwNCj4gKyAg
ICAgICAgICAgICAgIHBtODAwMV9oYS0+c3BpbnVwX2ludGVydmFsLCBwbTgwMDFfaGEtPnNwaW51
cF9ncm91cCkpOw0KPiAgfQ0KPg0KPiAgLyoNCj4gQEAgLTExMDQsNyArMTE1MSw3IEBAIHN0YXRp
YyBpbnQgcG04MDAxX3BjaV9wcm9iZShzdHJ1Y3QgcGNpX2RldiAqcGRldiwNCj4gICAgICAgICAg
ICAgICAgIHBtODB4eF9zZXRfdGhlcm1hbF9jb25maWcocG04MDAxX2hhKTsNCj4gICAgICAgICB9
DQo+DQo+IC0gICAgICAgcG04MDAxX2luaXRfc2FzX2FkZChwbTgwMDFfaGEpOw0KPiArICAgICAg
IHBtODAwMV9pbml0X3Nhc19hZGRfYW5kX3NwaW51cF9jb25maWcocG04MDAxX2hhKTsNCj4gICAg
ICAgICAvKiBwaHkgc2V0dGluZyBzdXBwb3J0IGZvciBtb3RoZXJib2FyZCBjb250cm9sbGVyICov
DQo+ICAgICAgICAgaWYgKHBtODAwMV9jb25maWd1cmVfcGh5X3NldHRpbmdzKHBtODAwMV9oYSkp
DQo+ICAgICAgICAgICAgICAgICBnb3RvIGVycl9vdXRfc2hvc3Q7DQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL3Njc2kvcG04MDAxL3BtODAwMV9zYXMuYyANCj4gYi9kcml2ZXJzL3Njc2kvcG04MDAx
L3BtODAwMV9zYXMuYw0KPiBpbmRleCAzYTY5ZDhkMWQ1MmUuLjgwNjg0NTIwMzYwMiAxMDA2NDQN
Cj4gLS0tIGEvZHJpdmVycy9zY3NpL3BtODAwMS9wbTgwMDFfc2FzLmMNCj4gKysrIGIvZHJpdmVy
cy9zY3NpL3BtODAwMS9wbTgwMDFfc2FzLmMNCj4gQEAgLTI2NywxMiArMjY3LDM4IEBAIHZvaWQg
cG04MDAxX3NjYW5fc3RhcnQoc3RydWN0IFNjc2lfSG9zdCAqc2hvc3QpDQo+ICAgICAgICAgaW50
IGk7DQo+ICAgICAgICAgc3RydWN0IHBtODAwMV9oYmFfaW5mbyAqcG04MDAxX2hhOw0KPiAgICAg
ICAgIHN0cnVjdCBzYXNfaGFfc3RydWN0ICpzaGEgPSBTSE9TVF9UT19TQVNfSEEoc2hvc3QpOw0K
PiArICAgICAgIERFQ0xBUkVfQ09NUExFVElPTihjb21wKTsNCj4gICAgICAgICBwbTgwMDFfaGEg
PSBzaGEtPmxsZGRfaGE7DQo+ICAgICAgICAgLyogU0FTX1JFX0lOSVRJQUxJWkFUSU9OIG5vdCBh
dmFpbGFibGUgaW4gU1BDdi92ZSAqLw0KPiAgICAgICAgIGlmIChwbTgwMDFfaGEtPmNoaXBfaWQg
PT0gY2hpcF84MDAxKQ0KPiAgICAgICAgICAgICAgICAgUE04MDAxX0NISVBfRElTUC0+c2FzX3Jl
X2luaXRfcmVxKHBtODAwMV9oYSk7DQo+IC0gICAgICAgZm9yIChpID0gMDsgaSA8IHBtODAwMV9o
YS0+Y2hpcC0+bl9waHk7ICsraSkNCj4gLSAgICAgICAgICAgICAgIFBNODAwMV9DSElQX0RJU1At
PnBoeV9zdGFydF9yZXEocG04MDAxX2hhLCBpKTsNCj4gKw0KPiArICAgICAgIGlmIChwbTgwMDFf
aGEtPnBkZXYtPmRldmljZSA9PSAweDgwMDEgfHwNCj4gKyAgICAgICAgICAgICAgIHBtODAwMV9o
YS0+cGRldi0+ZGV2aWNlID09IDB4ODA4MSB8fA0KPiArICAgICAgICAgICAgICAgKHBtODAwMV9o
YS0+c3BpbnVwX2ludGVydmFsICE9IDApKSB7DQo+ICsgICAgICAgICAgICAgICBmb3IgKGkgPSAw
OyBpIDwgcG04MDAxX2hhLT5jaGlwLT5uX3BoeTsgKytpKQ0KPiArICAgICAgICAgICAgICAgICAg
ICAgICBQTTgwMDFfQ0hJUF9ESVNQLT5waHlfc3RhcnRfcmVxKHBtODAwMV9oYSwgaSk7DQo+ICsg
ICAgICAgfSBlbHNlIHsNCj4gKyAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwbTgwMDFf
aGEtPmNoaXAtPm5fcGh5OyArK2kpIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgc3Bpbl9s
b2NrX2lycXNhdmUoJnBtODAwMV9oYS0+bG9jaywNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBwbTgwMDFfaGEtPmxvY2tfZmxhZ3MpOw0KPiArICAgICAgICAgICAgICAgICAgICAg
ICBwbTgwMDFfaGEtPnBoeV9zdGFydGVkID0gaTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
cG04MDAxX2hhLT5zY2FuX2NvbXBsZXRpb24gPSAmY29tcDsNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgcG04MDAxX2hhLT5waHlzdGFydF90aW1lZG91dCA9IDE7DQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIHNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJnBtODAwMV9oYS0+bG9jaywNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbTgwMDFfaGEtPmxvY2tfZmxhZ3MpOw0KPiAr
ICAgICAgICAgICAgICAgICAgICAgICBQTTgwMDFfQ0hJUF9ESVNQLT5waHlfc3RhcnRfcmVxKHBt
ODAwMV9oYSwgaSk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHdhaXRfZm9yX2NvbXBsZXRp
b25fdGltZW91dCgmY29tcCwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2Vj
c190b19qaWZmaWVzKDUwMCkpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAocG04MDAx
X2hhLT5waHlzdGFydF90aW1lZG91dCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBQTTgwMDFfTVNHX0RCRyhwbTgwMDFfaGEsIHBtODAwMV9wcmludGsoDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIlRpbWVvdXQgaGFwcGVuZWQgZm9yIHBoeWlkID0gJWRcbiIs
IGkpKTsNCj4gKyAgICAgICAgICAgICAgIH0NCj4gKyAgICAgICAgICAgICAgIHNwaW5fbG9ja19p
cnFzYXZlKCZwbTgwMDFfaGEtPmxvY2ssIHBtODAwMV9oYS0+bG9ja19mbGFncyk7DQo+ICsgICAg
ICAgICAgICAgICBwbTgwMDFfaGEtPnBoeV9zdGFydGVkID0gLTE7DQo+ICsgICAgICAgICAgICAg
ICBwbTgwMDFfaGEtPnNjYW5fY29tcGxldGlvbiA9IE5VTEw7DQo+ICsgICAgICAgICAgICAgICBz
cGluX3VubG9ja19pcnFyZXN0b3JlKCZwbTgwMDFfaGEtPmxvY2ssIHBtODAwMV9oYS0+bG9ja19m
bGFncyk7DQo+ICsgICAgICAgfQ0KPiAgfQ0KPg0KPiAgaW50IHBtODAwMV9zY2FuX2ZpbmlzaGVk
KHN0cnVjdCBTY3NpX0hvc3QgKnNob3N0LCB1bnNpZ25lZCBsb25nIHRpbWUpIA0KPiBAQCAtNjYz
LDYgKzY4OSwxMyBAQCBzdGF0aWMgaW50IHBtODAwMV9kZXZfZm91bmRfbm90aWZ5KHN0cnVjdCBk
b21haW5fZGV2aWNlICpkZXYpDQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSAxOyAv
KiBkaXJlY3RseSBzYXRhICovDQo+ICAgICAgICAgICAgICAgICB9DQo+ICAgICAgICAgfSAvKnJl
Z2lzdGVyIHRoaXMgZGV2aWNlIHRvIEhCQSovDQo+ICsNCj4gKyAgICAgICBpZiAocG04MDAxX2hh
LT5waHlfc3RhcnRlZCA9PSBwbTgwMDFfZGV2aWNlLT5hdHRhY2hlZF9waHkpIHsNCj4gKyAgICAg
ICAgICAgICAgIGlmIChwbTgwMDFfaGEtPnNjYW5fY29tcGxldGlvbiAhPSBOVUxMKSB7DQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHBtODAwMV9oYS0+cGh5c3RhcnRfdGltZWRvdXQgPSAwOw0K
PiArICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShwbTgwMDFfaGEtPnNjYW5fY29tcGxl
dGlvbik7DQo+ICsgICAgICAgICAgICAgICB9DQo+ICsgICAgICAgfQ0KPiAgICAgICAgIFBNODAw
MV9ESVNDX0RCRyhwbTgwMDFfaGEsIHBtODAwMV9wcmludGsoIkZvdW5kIGRldmljZVxuIikpOw0K
PiAgICAgICAgIFBNODAwMV9DSElQX0RJU1AtPnJlZ19kZXZfcmVxKHBtODAwMV9oYSwgcG04MDAx
X2RldmljZSwgZmxhZyk7DQo+ICAgICAgICAgc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmcG04MDAx
X2hhLT5sb2NrLCBmbGFncyk7IGRpZmYgLS1naXQgDQo+IGEvZHJpdmVycy9zY3NpL3BtODAwMS9w
bTgwMDFfc2FzLmggYi9kcml2ZXJzL3Njc2kvcG04MDAxL3BtODAwMV9zYXMuaA0KPiBpbmRleCBj
YmE0ZTliOTVjNTguLmRmMDJjNmNkMTE2YSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9zY3NpL3Bt
ODAwMS9wbTgwMDFfc2FzLmgNCj4gKysrIGIvZHJpdmVycy9zY3NpL3BtODAwMS9wbTgwMDFfc2Fz
LmgNCj4gQEAgLTI2MSw2ICsyNjEsNyBAQCBzdHJ1Y3QgcG04MDAxX3BvcnQgew0KPiAgICAgICAg
IHU4ICAgICAgICAgICAgICAgICAgICAgIHBvcnRfYXR0YWNoZWQ7DQo+ICAgICAgICAgdTE2ICAg
ICAgICAgICAgICAgICAgICAgd2lkZV9wb3J0X3BoeW1hcDsNCj4gICAgICAgICB1OCAgICAgICAg
ICAgICAgICAgICAgICBwb3J0X3N0YXRlOw0KPiArICAgICAgIHU4ICAgICAgICAgICAgICAgICAg
ICAgIHBvcnRfaWQ7DQo+ICAgICAgICAgc3RydWN0IGxpc3RfaGVhZCAgICAgICAgbGlzdDsNCj4g
IH07DQo+DQo+IEBAIC01MDMsNiArNTA0LDcgQEAgc3RydWN0IHBtODAwMV9oYmFfaW5mbyB7DQo+
ICAgICAgICAgdW5zaWduZWQgbG9uZyAgICAgICAgICAgZmxhZ3M7DQo+ICAgICAgICAgc3Bpbmxv
Y2tfdCAgICAgICAgICAgICAgbG9jazsvKiBob3N0LXdpZGUgbG9jayAqLw0KPiAgICAgICAgIHNw
aW5sb2NrX3QgICAgICAgICAgICAgIGJpdG1hcF9sb2NrOw0KPiArICAgICAgIHVuc2lnbmVkIGxv
bmcgICAgICAgICAgIGxvY2tfZmxhZ3M7DQpUaGlzIHNlZW1zIGZpbmUsIG9ubHkgb25lIHF1ZXN0
aW9uOiB3aHkgZG8geW91IG5lZWQgdGhpcyBsb2NrX2ZsYWdzIGluIGhiYT8NCltEVV0gVGhhbmtz
IGZvciBjb21tZW50LiBJIHdpbGwgcmVtb3ZlIHRoZSBsb2tfZmxhZ3MgZnJvbSBoYmEgc3RydWN0
dXJlIGFuZCBhZGQgaXQgbG9jYWxseS4NCj4gICAgICAgICBzdHJ1Y3QgcGNpX2RldiAgICAgICAg
ICAqcGRldjsvKiBvdXIgZGV2aWNlICovDQo+ICAgICAgICAgc3RydWN0IGRldmljZSAgICAgICAg
ICAgKmRldjsNCj4gICAgICAgICBzdHJ1Y3QgcG04MDAxX2hiYV9tZW1zcGFjZSBpb19tZW1bNl07
IEBAIC01NjYsNiArNTY4LDE3IEBAIA0KPiBzdHJ1Y3QgcG04MDAxX2hiYV9pbmZvIHsNCj4gICAg
ICAgICB1MzIgICAgICAgICAgICAgICAgICAgICBub25fZmF0YWxfcmVhZF9sZW5ndGg7DQo+ICAg
ICAgICAgc3RydWN0IGNvbXBsZXRpb24gICAgICAgKnBoeXByb2ZpbGVfY29tcGxldGlvbjsNCj4g
ICAgICAgICBzdHJ1Y3QgcGh5X3Byb2ZfcmVzcCAgICBwaHlfcHJvZmlsZV9yZXNwOw0KPiArICAg
ICAgIGJvb2wgICAgICAgICAgICAgICAgICAgIHN0YWdnZXJlZF9zcGludXA7DQo+ICsgICAgICAg
c3RydWN0IGNvbXBsZXRpb24gICAgICAgKnNjYW5fY29tcGxldGlvbjsNCj4gKyAgICAgICB1MzIg
ICAgICAgICAgICAgICAgICAgICBwaHlfc3RhcnRlZDsNCj4gKyAgICAgICB1MTYgICAgICAgICAg
ICAgICAgICAgICBwaHlzdGFydF90aW1lZG91dDsNCj4gKyAgICAgICBpbnQgICAgICAgICAgICAg
ICAgICAgICBzcGludXBfZ3JvdXA7DQo+ICsgICAgICAgaW50ICAgICAgICAgICAgICAgICAgICAg
c3BpbnVwX2ludGVydmFsOw0KPiArICAgICAgIGludCAgICAgICAgICAgICAgICAgICAgIHBoeV91
cFtQTTgwMDFfTUFYX1BIWVNdOw0KPiArICAgICAgIHN0cnVjdCB0aW1lcl9saXN0ICAgICAgIHNw
aW51cF90aW1lcjsNCj4gKyAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICBwaHlfaGVhZDsN
Cj4gKyAgICAgICBpbnQgICAgICAgICAgICAgICAgICAgICBwaHlfdGFpbDsNCj4gKyAgICAgICBz
cGlubG9ja190ICAgICAgICAgICAgICBwaHlfcV9sb2NrOw0KPiAgfTsNCj4NCj4gIHN0cnVjdCBw
bTgwMDFfd29yayB7DQo+IEBAIC02ODQsNiArNjk3LDcgQEAgdm9pZCBwbTgwMDFfb3Blbl9yZWpl
Y3RfcmV0cnkoICBpbnQgDQo+IHBtODAwMV9tZW1fYWxsb2Moc3RydWN0IHBjaV9kZXYgKnBkZXYs
IHZvaWQgKip2aXJ0X2FkZHIsDQo+ICAgICAgICAgZG1hX2FkZHJfdCAqcHBoeXNfYWRkciwgdTMy
ICpwcGh5c19hZGRyX2hpLCB1MzIgKnBwaHlzX2FkZHJfbG8sDQo+ICAgICAgICAgdTMyIG1lbV9z
aXplLCB1MzIgYWxpZ24pOw0KPiArdm9pZCBwbTgwMDFfc3BpbnVwX3RpbWVkb3V0KHN0cnVjdCB0
aW1lcl9saXN0ICp0KTsNCj4NCj4gIHZvaWQgcG04MDAxX2NoaXBfaW91bm1hcChzdHJ1Y3QgcG04
MDAxX2hiYV9pbmZvICpwbTgwMDFfaGEpOyAgaW50IA0KPiBwbTgwMDFfbXBpX2J1aWxkX2NtZChz
dHJ1Y3QgcG04MDAxX2hiYV9pbmZvICpwbTgwMDFfaGEsIGRpZmYgLS1naXQgDQo+IGEvZHJpdmVy
cy9zY3NpL3BtODAwMS9wbTgweHhfaHdpLmMgYi9kcml2ZXJzL3Njc2kvcG04MDAxL3BtODB4eF9o
d2kuYw0KPiBpbmRleCAwZjRmMThiMGU0ODAuLjAwNDBiYjRlMWI3MSAxMDA2NDQNCj4gLS0tIGEv
ZHJpdmVycy9zY3NpL3BtODAwMS9wbTgweHhfaHdpLmMNCj4gKysrIGIvZHJpdmVycy9zY3NpL3Bt
ODAwMS9wbTgweHhfaHdpLmMNCj4gQEAgLTQ2LDYgKzQ2LDcyIEBADQo+ICAjZGVmaW5lIFNNUF9E
SVJFQ1QgMQ0KPiAgI2RlZmluZSBTTVBfSU5ESVJFQ1QgMg0KPg0KPiArc3RhdGljIGludCBwbTgw
eHhfY2hpcF9waHlfY3RsX3JlcShzdHJ1Y3QgcG04MDAxX2hiYV9pbmZvICpwbTgwMDFfaGEsDQo+
ICsgICAgICAgdTMyIHBoeUlkLCB1MzIgcGh5X29wKTsNCj4gKw0KPiArdm9pZCAgcG04MDAxX3F1
ZXVlX3BoeXVwKHN0cnVjdCBwbTgwMDFfaGJhX2luZm8gKnBtODAwMV9oYSwgaW50IA0KPiArcGh5
X2lkKSB7DQo+ICsgICAgICAgaW50IGk7DQo+ICsNCj4gKyAgICAgICBpZiAocG04MDAxX2hhLT5w
aHlfaGVhZCA9PSAtMSkgew0KPiArICAgICAgICAgICAgICAgcG04MDAxX2hhLT5waHlfaGVhZCA9
IHBtODAwMV9oYS0+cGh5X3RhaWwgPSAwOw0KPiArICAgICAgIH0gZWxzZSB7DQo+ICsgICAgICAg
ICAgICAgICAvKiBJZiB0aGUgcGh5IGlkIGlzIGFscmVhZHkgcXVldWVkICwgZGlzY2FyZCB0aGUg
cGh5IHVwICovDQo+ICsgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcG04MDAxX2hhLT5j
aGlwLT5uX3BoeTsgaSsrKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAocG04MDAxX2hh
LT5waHlfdXBbaV0gPT0gcGh5X2lkKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHJldHVybjsNCj4gKyAgICAgICAgICAgICAgIHBtODAwMV9oYS0+cGh5X3RhaWwgPQ0KPiArICAg
ICAgICAgICAgICAgICAgICAgICAocG04MDAxX2hhLT5waHlfdGFpbCArIDEpICUgUE04MDAxX01B
WF9QSFlTOw0KPiArICAgICAgIH0NCj4gKyAgICAgICBwbTgwMDFfaGEtPnBoeV91cFtwbTgwMDFf
aGEtPnBoeV90YWlsXSA9IHBoeV9pZDsgfQ0KPiArDQo+ICt2b2lkIHBtODAwMV9zcGludXBfdGlt
ZWRvdXQoc3RydWN0IHRpbWVyX2xpc3QgKnQpIHsNCj4gKyAgICAgICBzdHJ1Y3QgcG04MDAxX2hi
YV9pbmZvICpwbTgwMDFfaGEgPQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBmcm9tX3RpbWVy
KHBtODAwMV9oYSwgdCwgc3BpbnVwX3RpbWVyKTsNCj4gKyAgICAgICBzdHJ1Y3QgcG04MDAxX3Bo
eSAqcGh5Ow0KPiArICAgICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3M7DQo+ICsgICAgICAgaW50IGkg
PSAwLCBwaHlfaWQgPSAweGZmOw0KPiArDQo+ICsgICAgICAgc3Bpbl9sb2NrX2lycXNhdmUoJnBt
ODAwMV9oYS0+cGh5X3FfbG9jaywgZmxhZ3MpOw0KPiArDQo+ICsgICAgICAgZG8gew0KPiArICAg
ICAgICAgICAgICAgaWYgKGkrKyA+PSBwbTgwMDFfaGEtPnNwaW51cF9ncm91cCAmJiBwbTgwMDFf
aGEtPnNwaW51cF9ncm91cCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsN
Cj4gKyAgICAgICAgICAgICAgIGlmIChwbTgwMDFfaGEtPnBoeV9oZWFkID09IC0xIHx8IHBtODAw
MV9oYS0+cmVzZXRfaW5fcHJvZ3Jlc3MpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFr
OyAvKiBObyBwaHlzIHRvIHNwaW51cCAqLw0KPiArDQo+ICsgICAgICAgICAgICAgICBwaHlfaWQg
PSBwbTgwMDFfaGEtPnBoeV91cFtwbTgwMDFfaGEtPnBoeV9oZWFkXTsNCj4gKyAgICAgICAgICAg
ICAgIC8qIFByb2Nlc3NlZCBwaHkgaWQsIG1ha2UgaXQgaW52YWxpZCAweGZmIGZvcg0KPiArICAg
ICAgICAgICAgICAgICogY2hlY2tpbmcgcmVwZWF0ZWQgcGh5IHVwcw0KPiArICAgICAgICAgICAg
ICAgICovDQo+ICsgICAgICAgICAgICAgICBwbTgwMDFfaGEtPnBoeV91cFtwbTgwMDFfaGEtPnBo
eV9oZWFkXSA9IDB4ZmY7DQo+ICsgICAgICAgICAgICAgICBpZiAocG04MDAxX2hhLT5waHlfaGVh
ZCA9PSBwbTgwMDFfaGEtPnBoeV90YWlsKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHBt
ODAwMV9oYS0+cGh5X2hlYWQgPSBwbTgwMDFfaGEtPnBoeV90YWlsID0gLTE7DQo+ICsgICAgICAg
ICAgICAgICB9IGVsc2Ugew0KPiArICAgICAgICAgICAgICAgICAgICAgICBwbTgwMDFfaGEtPnBo
eV9oZWFkID0NCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocG04MDAxX2hhLT5w
aHlfaGVhZCsxKSAlIFBNODAwMV9NQVhfUEhZUzsNCj4gKyAgICAgICAgICAgICAgIH0NCj4gKw0K
PiArICAgICAgICAgICAgICAgaWYgKHBoeV9pZCA9PSAweGZmKQ0KPiArICAgICAgICAgICAgICAg
ICAgICAgICBicmVhazsNCj4gKyAgICAgICAgICAgICAgIHBoeSA9ICZwbTgwMDFfaGEtPnBoeVtw
aHlfaWRdOw0KPiArICAgICAgICAgICAgICAgaWYgKHBoeS0+cGh5X3R5cGUgJiBQT1JUX1RZUEVf
U0FTKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIFBNODAwMV9DSElQX0RJU1AtPnBoeV9j
dGxfcmVxKHBtODAwMV9oYSwgcGh5X2lkLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgUEhZX05PVElGWV9FTkFCTEVfU1BJTlVQKTsNCj4gKyAgICAgICAgICAgICAg
IH0gZWxzZSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIFBNODAwMV9DSElQX0RJU1AtPnBo
eV9jdGxfcmVxKHBtODAwMV9oYSwgcGh5X2lkLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgUEhZX0xJTktfUkVTRVQpOw0KPiArICAgICAgICAgICAgICAgfQ0KPiAr
ICAgICAgIH0gd2hpbGUgKDEpOw0KPiArDQo+ICsgICAgICAgaWYgKHBtODAwMV9oYS0+cGh5X2hl
YWQgIT0gLTEgJiYgcG04MDAxX2hhLT5zcGludXBfZ3JvdXApDQo+ICsgICAgICAgICAgICAgICBt
b2RfdGltZXIoJnBtODAwMV9oYS0+c3BpbnVwX3RpbWVyLA0KPiArICAgICAgICAgICAgICAgICAg
ICAgICBqaWZmaWVzICsgbXNlY3NfdG9famlmZmllcyhwbTgwMDFfaGEtPnNwaW51cF9pbnRlcnZh
bCkpOw0KPiArICAgICAgIHNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJnBtODAwMV9oYS0+cGh5X3Ff
bG9jaywgZmxhZ3MpOyB9DQo+DQo+ICBpbnQgcG04MHh4X2JhcjRfc2hpZnQoc3RydWN0IHBtODAw
MV9oYmFfaW5mbyAqcG04MDAxX2hhLCB1MzIgDQo+IHNoaWZ0X3ZhbHVlKSAgeyBAQCAtMzMwMiwx
MSArMzM2OCwxMiBAQCBod19ldmVudF9zYXNfcGh5X3VwKHN0cnVjdCANCj4gcG04MDAxX2hiYV9p
bmZvICpwbTgwMDFfaGEsIHZvaWQgKnBpb21iKQ0KPiAgICAgICAgIHBvcnQtPnBvcnRfc3RhdGUg
PSBwb3J0c3RhdGU7DQo+ICAgICAgICAgcG9ydC0+d2lkZV9wb3J0X3BoeW1hcCB8PSAoMVUgPDwg
cGh5X2lkKTsNCj4gICAgICAgICBwaHktPnBoeV9zdGF0ZSA9IFBIWV9TVEFURV9MSU5LX1VQX1NQ
Q1Y7DQo+ICsgICAgICAgcGh5LT5wb3J0ID0gcG9ydDsNCj4gICAgICAgICBQTTgwMDFfTVNHX0RC
RyhwbTgwMDFfaGEsIHBtODAwMV9wcmludGsoDQo+ICAgICAgICAgICAgICAgICAicG9ydGlkOiVk
OyBwaHlpZDolZDsgbGlua3JhdGU6JWQ7ICINCj4gICAgICAgICAgICAgICAgICJwb3J0c3RhdGU6
JXg7IGRldmljZXR5cGU6JXhcbiIsDQo+ICAgICAgICAgICAgICAgICBwb3J0X2lkLCBwaHlfaWQs
IGxpbmtfcmF0ZSwgcG9ydHN0YXRlLCBkZXZpY2VUeXBlKSk7DQo+IC0NCj4gKyAgICAgICBwb3J0
LT5wb3J0X2lkID0gcG9ydF9pZDsNCj4gICAgICAgICBzd2l0Y2ggKGRldmljZVR5cGUpIHsNCj4g
ICAgICAgICBjYXNlIFNBU19QSFlfVU5VU0VEOg0KPiAgICAgICAgICAgICAgICAgUE04MDAxX01T
R19EQkcocG04MDAxX2hhLCBAQCAtMzMxNCw4ICszMzgxLDEyIEBAIA0KPiBod19ldmVudF9zYXNf
cGh5X3VwKHN0cnVjdCBwbTgwMDFfaGJhX2luZm8gKnBtODAwMV9oYSwgdm9pZCAqcGlvbWIpDQo+
ICAgICAgICAgICAgICAgICBicmVhazsNCj4gICAgICAgICBjYXNlIFNBU19FTkRfREVWSUNFOg0K
PiAgICAgICAgICAgICAgICAgUE04MDAxX01TR19EQkcocG04MDAxX2hhLCBwbTgwMDFfcHJpbnRr
KCJlbmQgZGV2aWNlLlxuIikpOw0KPiAtICAgICAgICAgICAgICAgcG04MHh4X2NoaXBfcGh5X2N0
bF9yZXEocG04MDAxX2hhLCBwaHlfaWQsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgIFBIWV9O
T1RJRllfRU5BQkxFX1NQSU5VUCk7DQo+ICsgICAgICAgICAgICAgICBzcGluX2xvY2tfaXJxc2F2
ZSgmcG04MDAxX2hhLT5waHlfcV9sb2NrLCBmbGFncyk7DQo+ICsgICAgICAgICAgICAgICBwbTgw
MDFfcXVldWVfcGh5dXAocG04MDAxX2hhLCBwaHlfaWQpOw0KPiArICAgICAgICAgICAgICAgc3Bp
bl91bmxvY2tfaXJxcmVzdG9yZSgmcG04MDAxX2hhLT5waHlfcV9sb2NrLCBmbGFncyk7DQo+ICsg
ICAgICAgICAgICAgICBpZiAoIXRpbWVyX3BlbmRpbmcoJnBtODAwMV9oYS0+c3BpbnVwX3RpbWVy
KSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgbW9kX3RpbWVyKCZwbTgwMDFfaGEtPnNwaW51
cF90aW1lciwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgamlmZmllcyArIA0KPiArIG1zZWNz
X3RvX2ppZmZpZXMocG04MDAxX2hhLT5zcGludXBfaW50ZXJ2YWwpKTsNCj4gICAgICAgICAgICAg
ICAgIHBvcnQtPnBvcnRfYXR0YWNoZWQgPSAxOw0KPiAgICAgICAgICAgICAgICAgcG04MDAxX2dl
dF9scmF0ZV9tb2RlKHBoeSwgbGlua19yYXRlKTsNCj4gICAgICAgICAgICAgICAgIGJyZWFrOw0K
PiBAQCAtMzM1MSw5ICszNDIyLDEwIEBAIGh3X2V2ZW50X3Nhc19waHlfdXAoc3RydWN0IHBtODAw
MV9oYmFfaW5mbyAqcG04MDAxX2hhLCB2b2lkICpwaW9tYikNCj4gICAgICAgICBwaHktPmZyYW1l
X3JjdmRfc2l6ZSA9IHNpemVvZihzdHJ1Y3Qgc2FzX2lkZW50aWZ5X2ZyYW1lKSAtIDQ7DQo+ICAg
ICAgICAgcG04MDAxX2dldF9hdHRhY2hlZF9zYXNfYWRkcihwaHksIHBoeS0+c2FzX3BoeS5hdHRh
Y2hlZF9zYXNfYWRkcik7DQo+ICAgICAgICAgc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmcGh5LT5z
YXNfcGh5LmZyYW1lX3JjdmRfbG9jaywgZmxhZ3MpOw0KPiAtICAgICAgIGlmIChwbTgwMDFfaGEt
PmZsYWdzID09IFBNODAwMUZfUlVOX1RJTUUpDQo+IC0gICAgICAgICAgICAgICBtc2xlZXAoMjAw
KTsvKmRlbGF5IGEgbW9tZW50IHRvIHdhaXQgZGlzayB0byBzcGludXAqLw0KPiAtICAgICAgIHBt
ODAwMV9ieXRlc19kbWFlZChwbTgwMDFfaGEsIHBoeV9pZCk7DQo+ICsgICAgICAgaWYgKCFwbTgw
MDFfaGEtPnJlc2V0X2luX3Byb2dyZXNzKSB7DQo+ICsgICAgICAgICAgICAgICBpZiAoZGV2aWNl
VHlwZSAhPSBTQVNfRU5EX0RFVklDRSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcG04MDAx
X2J5dGVzX2RtYWVkKHBtODAwMV9oYSwgcGh5X2lkKTsNCj4gKyAgICAgICB9DQo+ICB9DQo+DQo+
ICAvKioNCj4gQEAgLTMzODgsMTEgKzM0NjAsMTcgQEAgaHdfZXZlbnRfc2F0YV9waHlfdXAoc3Ry
dWN0IHBtODAwMV9oYmFfaW5mbyAqcG04MDAxX2hhLCB2b2lkICpwaW9tYikNCj4gICAgICAgICBw
b3J0LT5wb3J0X3N0YXRlID0gcG9ydHN0YXRlOw0KPiAgICAgICAgIHBoeS0+cGh5X3N0YXRlID0g
UEhZX1NUQVRFX0xJTktfVVBfU1BDVjsNCj4gICAgICAgICBwb3J0LT5wb3J0X2F0dGFjaGVkID0g
MTsNCj4gKyAgICAgICBwaHktPnBvcnQgPSBwb3J0Ow0KPiArICAgICAgIHBvcnQtPnBvcnRfaWQg
PSBwb3J0X2lkOw0KPiAgICAgICAgIHBtODAwMV9nZXRfbHJhdGVfbW9kZShwaHksIGxpbmtfcmF0
ZSk7DQo+ICAgICAgICAgcGh5LT5waHlfdHlwZSB8PSBQT1JUX1RZUEVfU0FUQTsNCj4gICAgICAg
ICBwaHktPnBoeV9hdHRhY2hlZCA9IDE7DQo+ICAgICAgICAgcGh5LT5zYXNfcGh5Lm9vYl9tb2Rl
ID0gU0FUQV9PT0JfTU9ERTsNCj4gLSAgICAgICBzYXNfaGEtPm5vdGlmeV9waHlfZXZlbnQoJnBo
eS0+c2FzX3BoeSwgUEhZRV9PT0JfRE9ORSk7DQo+ICsgICAgICAgaWYgKCFwbTgwMDFfaGEtPnJl
c2V0X2luX3Byb2dyZXNzKSB7DQo+ICsgICAgICAgICAgICAgICBzYXNfaGEtPm5vdGlmeV9waHlf
ZXZlbnQoJnBoeS0+c2FzX3BoeSwgUEhZRV9PT0JfRE9ORSk7DQo+ICsgICAgICAgfSBlbHNlDQo+
ICsgICAgICAgICAgICAgICBQTTgwMDFfTVNHX0RCRyhwbTgwMDFfaGEsIHBtODAwMV9wcmludGso
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICJIV19FVkVOVF9QSFlfVVA6IG5vdCBub3RpZmll
ZCB0byBob3N0XG4iKSk7DQo+ICAgICAgICAgc3Bpbl9sb2NrX2lycXNhdmUoJnBoeS0+c2FzX3Bo
eS5mcmFtZV9yY3ZkX2xvY2ssIGZsYWdzKTsNCj4gICAgICAgICBtZW1jcHkocGh5LT5mcmFtZV9y
Y3ZkLCAoKHU4ICopJnBQYXlsb2FkLT5zYXRhX2ZpcyAtIDQpLA0KPiAgICAgICAgICAgICAgICAg
c2l6ZW9mKHN0cnVjdCBkZXZfdG9faG9zdF9maXMpKTsgQEAgLTM0MDEsNyArMzQ3OSw4IEBAIA0K
PiBod19ldmVudF9zYXRhX3BoeV91cChzdHJ1Y3QgcG04MDAxX2hiYV9pbmZvICpwbTgwMDFfaGEs
IHZvaWQgKnBpb21iKQ0KPiAgICAgICAgIHBoeS0+aWRlbnRpZnkuZGV2aWNlX3R5cGUgPSBTQVNf
U0FUQV9ERVY7DQo+ICAgICAgICAgcG04MDAxX2dldF9hdHRhY2hlZF9zYXNfYWRkcihwaHksIHBo
eS0+c2FzX3BoeS5hdHRhY2hlZF9zYXNfYWRkcik7DQo+ICAgICAgICAgc3Bpbl91bmxvY2tfaXJx
cmVzdG9yZSgmcGh5LT5zYXNfcGh5LmZyYW1lX3JjdmRfbG9jaywgZmxhZ3MpOw0KPiAtICAgICAg
IHBtODAwMV9ieXRlc19kbWFlZChwbTgwMDFfaGEsIHBoeV9pZCk7DQo+ICsgICAgICAgaWYgKCFw
bTgwMDFfaGEtPnJlc2V0X2luX3Byb2dyZXNzKQ0KPiArICAgICAgICAgICAgICAgcG04MDAxX2J5
dGVzX2RtYWVkKHBtODAwMV9oYSwgcGh5X2lkKTsNCj4gIH0NCj4NCj4gIC8qKg0KPiBAQCAtMzQ5
NywxMiArMzU3NiwxNCBAQCBzdGF0aWMgaW50IG1waV9waHlfc3RhcnRfcmVzcChzdHJ1Y3QgcG04
MDAxX2hiYV9pbmZvICpwbTgwMDFfaGEsIHZvaWQgKnBpb21iKQ0KPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0YXR1cywgcGh5X2lkKSk7DQo+ICAgICAgICAgaWYgKHN0YXR1cyA9
PSAwKSB7DQo+ICAgICAgICAgICAgICAgICBwaHktPnBoeV9zdGF0ZSA9IFBIWV9MSU5LX0RPV047
DQo+IC0gICAgICAgICAgICAgICBpZiAocG04MDAxX2hhLT5mbGFncyA9PSBQTTgwMDFGX1JVTl9U
SU1FICYmDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGh5LT5lbmFibGVfY29t
cGxldGlvbiAhPSBOVUxMKSB7DQo+IC0gICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHBo
eS0+ZW5hYmxlX2NvbXBsZXRpb24pOw0KPiAtICAgICAgICAgICAgICAgICAgICAgICBwaHktPmVu
YWJsZV9jb21wbGV0aW9uID0gTlVMTDsNCj4gLSAgICAgICAgICAgICAgIH0NCj4gICAgICAgICB9
DQo+ICsNCj4gKyAgICAgICBpZiAocG04MDAxX2hhLT5mbGFncyA9PSBQTTgwMDFGX1JVTl9USU1F
ICYmDQo+ICsgICAgICAgICAgICAgICBwaHktPmVuYWJsZV9jb21wbGV0aW9uICE9IE5VTEwpIHsN
Cj4gKyAgICAgICAgICAgICAgIGNvbXBsZXRlKHBoeS0+ZW5hYmxlX2NvbXBsZXRpb24pOw0KPiAr
ICAgICAgICAgICAgICAgcGh5LT5lbmFibGVfY29tcGxldGlvbiA9IE5VTEw7DQo+ICsgICAgICAg
fQ0KPiArDQo+ICAgICAgICAgcmV0dXJuIDA7DQo+DQo+ICB9DQo+IEBAIC0zNTgwLDcgKzM2NjEs
MTQgQEAgc3RhdGljIGludCBtcGlfaHdfZXZlbnQoc3RydWN0IHBtODAwMV9oYmFfaW5mbyAqcG04
MDAxX2hhLCB2b2lkICpwaW9tYikNCj4gICAgICAgICBjYXNlIEhXX0VWRU5UX1NBVEFfU1BJTlVQ
X0hPTEQ6DQo+ICAgICAgICAgICAgICAgICBQTTgwMDFfTVNHX0RCRyhwbTgwMDFfaGEsDQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIHBtODAwMV9wcmludGsoIkhXX0VWRU5UX1NBVEFfU1BJTlVQ
X0hPTERcbiIpKTsNCj4gLSAgICAgICAgICAgICAgIHNhc19oYS0+bm90aWZ5X3BoeV9ldmVudCgm
cGh5LT5zYXNfcGh5LCBQSFlFX1NQSU5VUF9IT0xEKTsNCj4gKyAgICAgICAgICAgICAgIHNwaW5f
bG9ja19pcnFzYXZlKCZwbTgwMDFfaGEtPnBoeV9xX2xvY2ssIGZsYWdzKTsNCj4gKyAgICAgICAg
ICAgICAgIHBtODAwMV9xdWV1ZV9waHl1cChwbTgwMDFfaGEsIHBoeV9pZCk7DQo+ICsgICAgICAg
ICAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKCZwbTgwMDFfaGEtPnBoeV9xX2xvY2ssIGZs
YWdzKTsNCj4gKw0KPiArICAgICAgICAgICAgICAgLyogU3RhcnQgdGhlIHRpbWVyIGlmIG5vdCBz
dGFydGVkICovDQo+ICsgICAgICAgICAgICAgICBpZiAoIXRpbWVyX3BlbmRpbmcoJnBtODAwMV9o
YS0+c3BpbnVwX3RpbWVyKSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgbW9kX3RpbWVyKCZw
bTgwMDFfaGEtPnNwaW51cF90aW1lciwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgamlmZmll
cyArIA0KPiArIG1zZWNzX3RvX2ppZmZpZXMocG04MDAxX2hhLT5zcGludXBfaW50ZXJ2YWwpKTsN
Cj4gICAgICAgICAgICAgICAgIGJyZWFrOw0KPiAgICAgICAgIGNhc2UgSFdfRVZFTlRfUEhZX0RP
V046DQo+ICAgICAgICAgICAgICAgICBQTTgwMDFfTVNHX0RCRyhwbTgwMDFfaGEsIEBAIC00ODg5
LDcgKzQ5NzcsNyBAQCANCj4gcG04MHh4X2NoaXBfcGh5X3N0YXJ0X3JlcShzdHJ1Y3QgcG04MDAx
X2hiYV9pbmZvICpwbTgwMDFfaGEsIHU4IHBoeV9pZCkNCj4gICAgICAgICBQTTgwMDFfSU5JVF9E
QkcocG04MDAxX2hhLA0KPiAgICAgICAgICAgICAgICAgcG04MDAxX3ByaW50aygiUEhZIFNUQVJU
IFJFUSBmb3IgcGh5X2lkICVkXG4iLCANCj4gcGh5X2lkKSk7DQo+DQo+IC0gICAgICAgcGF5bG9h
ZC5hc2Vfc2hfbG1fc2xyX3BoeWlkID0gY3B1X3RvX2xlMzIoU1BJTkhPTERfRElTQUJMRSB8DQo+
ICsgICAgICAgcGF5bG9hZC5hc2Vfc2hfbG1fc2xyX3BoeWlkID0gY3B1X3RvX2xlMzIoU1BJTkhP
TERfRU5BQkxFIHwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgTElOS01PREVfQVVUTyB8IHBt
ODAwMV9oYS0+bGlua19yYXRlIHwgcGh5X2lkKTsNCj4gICAgICAgICAvKiBTU0MgRGlzYWJsZSBh
bmQgU0FTIEFuYWxvZyBTVCBjb25maWd1cmF0aW9uICovDQo+ICAgICAgICAgLyoqDQo+IEBAIC00
OTUxLDYgKzUwMzksOCBAQCBzdGF0aWMgaW50IHBtODB4eF9jaGlwX3JlZ19kZXZfcmVxKHN0cnVj
dCBwbTgwMDFfaGJhX2luZm8gKnBtODAwMV9oYSwNCj4gICAgICAgICB1MTYgSVROVCA9IDIwMDA7
DQo+ICAgICAgICAgc3RydWN0IGRvbWFpbl9kZXZpY2UgKmRldiA9IHBtODAwMV9kZXYtPnNhc19k
ZXZpY2U7DQo+ICAgICAgICAgc3RydWN0IGRvbWFpbl9kZXZpY2UgKnBhcmVudF9kZXYgPSBkZXYt
PnBhcmVudDsNCj4gKyAgICAgICBzdHJ1Y3QgcG04MDAxX3BoeSAqcGh5Ow0KPiArICAgICAgIHN0
cnVjdCBwbTgwMDFfcG9ydCAqcG9ydDsNCj4gICAgICAgICBjaXJjdWxhclEgPSAmcG04MDAxX2hh
LT5pbmJuZF9xX3RibFswXTsNCj4NCj4gICAgICAgICBtZW1zZXQoJnBheWxvYWQsIDAsIHNpemVv
ZihwYXlsb2FkKSk7IEBAIC00OTgyLDggKzUwNzIsMTEgQEAgDQo+IHN0YXRpYyBpbnQgcG04MHh4
X2NoaXBfcmVnX2Rldl9yZXEoc3RydWN0IHBtODAwMV9oYmFfaW5mbyAqcG04MDAxX2hhLA0KPiAg
ICAgICAgIGxpbmtyYXRlID0gKHBtODAwMV9kZXYtPnNhc19kZXZpY2UtPmxpbmtyYXRlIDwgZGV2
LT5wb3J0LT5saW5rcmF0ZSkgPw0KPiAgICAgICAgICAgICAgICAgICAgICAgICBwbTgwMDFfZGV2
LT5zYXNfZGV2aWNlLT5saW5rcmF0ZSA6IA0KPiBkZXYtPnBvcnQtPmxpbmtyYXRlOw0KPg0KPiAr
ICAgICAgIHBoeSA9ICZwbTgwMDFfaGEtPnBoeVtwaHlfaWRdOw0KPiArICAgICAgIHBvcnQgPSBw
aHktPnBvcnQ7DQo+ICsNCj4gICAgICAgICBwYXlsb2FkLnBoeWlkX3BvcnRpZCA9DQo+IC0gICAg
ICAgICAgICAgICBjcHVfdG9fbGUzMigoKHBtODAwMV9kZXYtPnNhc19kZXZpY2UtPnBvcnQtPmlk
KSAmIDB4RkYpIHwNCj4gKyAgICAgICAgICAgICAgIGNwdV90b19sZTMyKCgocG9ydC0+cG9ydF9p
ZCkgJiAweEZGKSB8DQo+ICAgICAgICAgICAgICAgICAoKHBoeV9pZCAmIDB4RkYpIDw8IDgpKTsN
Cj4NCj4gICAgICAgICBwYXlsb2FkLmR0eXBlX2Rscl9tY25faXJfcmV0cnkgPSBjcHVfdG9fbGUz
MigocmV0cnlGbGFnICYgDQo+IDB4MDEpIHwNCj4gLS0NCj4gMi4xNi4zDQo+DQo=
